<%- include('header') %>
<!-- ============================================================== -->
      <!-- End Left Sidebar - style you can find in sidebar.scss  -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- Page wrapper  -->
      <!-- ============================================================== -->
      <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <div class="page-breadcrumb">
          <div class="row">
            <div class="col-12 d-flex no-block align-items-center">
              <h4 class="page-title">Form Basic</h4>
              <div class="ms-auto text-end">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">
                      Library
                    </li>
                  </ol>
                </nav>
              </div>
            </div>
          </div>
        </div>
        <!-- ============================================================== -->
        <!-- End Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
          <!-- ============================================================== -->
          <!-- Start Page Content -->
          <!-- ============================================================== -->
          <div class="row">
            <div class="col-md-6">
              <div class="card">
                <form class="form-horizontal" method="post"  action="/extracategory/insertExtracategoryData">
                  <div class="card-body">
                    <h4 class="card-title">Personal Info</h4>
                    <% if(flash.success && flash.success.length >0){ %>
                         <div class="alert alert-success"><%= flash.success %></div>
                    <% } %>
                    <div class="form-group row">
                        <label  for="fname" class="col-sm-3 text-end control-label col-form-label"  >Select Category</label >
                        <div class="col-sm-9">
                          <select name="categoryId" id="categoryId" class="form-control" onchange="getSubcategoryData()">
                                <option value="">--select Category--</option>
                                <% for(var c of cateData){ %>
                                <option value="<%= c.id %>"><%= c.category %></option>
                                <% } %>
                          </select>
                        </div>
                      </div>


                      <div class="form-group row">
                        <label  for="fname" class="col-sm-3 text-end control-label col-form-label"  >Select Subcategory</label >
                        <div class="col-sm-9">
                          <select name="subcateId" id="subcateId" class="form-control">
                                <option value="">--select subategory--</option>
                          </select>
                        </div>
                      </div>


                    <div class="form-group row">
                      <label  for="fname" class="col-sm-3 text-end control-label col-form-label"  >Enter Extracategory</label >
                      <div class="col-sm-9">
                        <input   type="text"  class="form-control" name="extracategory"  id="extracategory"  placeholder="Enter subcategory" />
                      </div>
                    </div>



                  </div>
                  <div class="border-top">
                    <div class="card-body">
                      <button type="submit" name="submit" class="btn btn-primary">
                        Add Category
                      </button>
                    </div>
                  </div>
                </form>
              </div>
             
          
            </div>
            
          </div>
          <!-- editor -->
         
          <!-- ============================================================== -->
          <!-- End PAge Content -->
          <!-- ============================================================== -->
          <!-- ============================================================== -->
          <!-- Right sidebar -->
          <!-- ============================================================== -->
          <!-- .right-sidebar -->
          <!-- ============================================================== -->
          <!-- End Right sidebar -->
          <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script>
            function getSubcategoryData()
            {
                var catId = document.getElementById('categoryId').value
                $.ajax({
                    url : '/extracategory/subdata',
                    type : "post",
                    data : {
                        'cateId' : catId
                    },
                    success: function(res){
                      $('#subcateId').html(res);
                    }
                })
            }

        </script>
        <%- include('footer') %>
        